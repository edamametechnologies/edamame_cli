---
description: "EDAMAME CLI - RPC interface for direct access to edamame_core"
alwaysApply: true
---

# EDAMAME CLI - RPC Interface

> **Master Repository:** `edamame_app` - See `../edamame_app/.cursor/rules/workspace.mdc` for workspace-wide rules.

## Documentation (Read First)
- **ARCHITECTURE.md** - Single-file architecture, RPC dispatch
- **README.md** - Installation and usage guide

## Project Context
EDAMAME CLI provides direct RPC access to edamame_core:
- Method discovery (`list-methods`, `get-method-info`)
- RPC execution (`rpc <method> [json_args]`)
- Interactive REPL mode
- Shell completions

## Key Files
- `src/main.rs` - Single-file implementation (~700 lines)
  - `build_cli()` - CLI construction
  - `handle_rpc()` - RPC call handler
  - `interactive_mode()` - REPL implementation

## Build & Test
```bash
cargo build --release
make test

# Platform-specific
make macos
make linux
make linux_alpine    # MUSL target
make windows
```

## CLI Commands

```bash
# Method discovery
edamame-cli list-methods              # List all available RPC methods
edamame-cli list-method-infos         # List all methods with details
edamame-cli get-method-info <METHOD>  # Get info about specific method

# RPC calls
edamame-cli rpc <METHOD> [JSON_ARGS]  # Call RPC method with JSON arguments
edamame-cli rpc get_score --pretty    # With pretty output

# Interactive mode
edamame-cli interactive               # REPL for RPC exploration

# Shell completions
edamame-cli completion <SHELL>        # Generate completions (bash/fish/zsh)
```

## Verbosity Levels
- `-v` - Info logging
- `-vv` - Debug logging
- `-vvv` - Trace logging

## Local Development
Toggle local/git dependencies (run from edamame_app):
```bash
cd ../edamame_app && ./flip.sh local
cd ../edamame_app && ./flip.sh git
```
